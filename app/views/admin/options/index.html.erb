<div class="d-flex justify-content-between align-items-center mb-4">
  <div>
    <h1>Options for Question</h1>
    <p class="text-muted"><%= @question.prompt %></p>
    <%= link_to 'Back to Questions', admin_quiz_questions_path(@quiz), class: 'btn btn-secondary' %>
  </div>
  <%= link_to 'New Option', new_admin_quiz_question_option_path(@quiz, @question), class: 'btn btn-primary' %>
</div>

<% if @options.any? %>
  <div class="alert alert-warning">
    <strong>Note:</strong> Make sure exactly one option is marked as correct for this MCQ question.
  </div>
  
  <div class="list-group">
    <% @options.each do |option| %>
      <div class="list-group-item">
        <div class="d-flex justify-content-between align-items-start">
          <div class="flex-grow-1">
            <h5 class="mb-1">
              <%= option.text %>
              <% if option.is_correct? %>
                <span class="badge bg-success">Correct</span>
              <% end %>
            </h5>
            <small class="text-muted">Position: <%= option.position %></small>
          </div>
          <div>
            <%= link_to 'Edit', edit_admin_quiz_question_option_path(@quiz, @question, option), class: 'btn btn-sm btn-warning' %>
            <%= link_to 'Delete', admin_quiz_question_option_path(@quiz, @question, option), method: :delete,
                        data: { confirm: 'Are you sure?' }, class: 'btn btn-sm btn-danger' %>
          </div>
        </div>
      </div>
    <% end %>
  </div>
<% else %>
  <div class="alert alert-info">
    No options yet. <%= link_to 'Add your first option', new_admin_quiz_question_option_path(@quiz, @question) %>.
  </div>
<% end %>


